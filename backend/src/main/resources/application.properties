# ===============================
# Application Name
# ===============================
spring.application.name=training-management

# ===============================
# HikariCP Connection Pool Settings
# ===============================
# Maximum time to wait for a connection (ms)
spring.datasource.hikari.connection-timeout=30000

# Maximum number of active connections
spring.datasource.hikari.maximum-pool-size=20

# Minimum number of idle connections to maintain
spring.datasource.hikari.minimum-idle=5

# Maximum time a connection can be idle before closing (ms)
spring.datasource.hikari.idle-timeout=300000

# Maximum lifetime of a connection (ms)
spring.datasource.hikari.max-lifetime=1800000

# Validate connections before giving them to application
# spring.datasource.hikari.validation-timeout=5000
# logging.level.org.hibernate.SQL=DEBUG


# ===============================
# Database Configuration
# ===============================

# --- Local Development ---
# Uncomment these lines to run the backend locally using a local MariaDB instance
spring.datasource.url=jdbc:mariadb://localhost:3306/training_management
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# --- Docker / UAT ---
# Use environment variables injected via Docker Compose
#spring.datasource.url=${SPRING_DATASOURCE_URL}
#spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
#spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# ===============================
# Hibernate (JPA) Settings
# ===============================
# Controls how Hibernate updates the database schema
# Options: create-drop | create | update | validate | none
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect

# ===============================
# Server Configuration
# ===============================
# Port on which Spring Boot backend runs
server.port=8080
